# Makefile.in for Turquoise SuperStat
#
# $Id$

# Variables
CXXFLAGS=@CXXFLAGS@ -I. -Wall
@QT@QTFLAGS=-I@QTINCLUDE@
LDFLAGS=@LDFLAGS@
srcdir=@srcdir@
VPATH=@scrdir@
LIBS=@LIBS@
QTLIBS=@QTLIB@
DESTDIR=
OBJS=turqstat.o statengine.o statview.o squishread.o fdapxread.o jamread.o mypointread.o utility.o sdmread.o tanstaaflread.o newsspoolread.o mytime.o output.o
QTOBJS=qtgui.o moc_qtgui.o qtlist.o moc_qtlist.o statengine.o squishread.o fdapxread.o jamread.o mypointread.o utility.o sdmread.o tanstaaflread.o newsspoolread.o mytime.o outputqt.o
@QT@EXE=turqstat@EXEEXT@ qturqstat@EXEEXT@
@NOQT@EXE=turqstat@EXEEXT@
DEF=@DEF@
prefix=@prefix@
exec_prefix=@exec_prefix@

# Magic targets
all: $(EXE)

debian:
	fakeroot debian/rules binary

clean:
	-rm $(OBJS) moc*
	-rm $(EXE)

distclean: clean
	-rm config.status config.log config.cache config.h Makefile

debianclean:
	fakeroot debian/rules clean

@NOINST@install: turqstat@EXEEXT@
@NOINST@	install -d $(DESTDIR)@bindir@ $(DESTDIR)@datadir@/doc/turqstat/ $(DESTDIR)@datadir@/doc/turqstat/sv/ $(DESTDIR)@mandir@/man1 $(DESTDIR)@mandir@/sv/man1/
@NOINST@	install -s turqstat@EXEEXT@ $(DESTDIR)@bindir@
@NOINST@	install -m 644 turqstat.doc $(DESTDIR)@datadir@/doc/turqstat/
@NOINST@	install -m 644 turqstat.dok $(DESTDIR)@datadir@/doc/turqstat/sv/
@NOINST@	install -m 644 turqstat.1   $(DESTDIR)@mandir@/man1/
@NOINST@	install -m 644 turqstat-sv.1 $(DESTDIR)@mandir@/sv/man1/turqstat.1

# Binary
turqstat@EXEEXT@: $(OBJS) $(DEF)
	@CXX@ $(CXXFLAGS) $(LDFLAGS) -o turqstat@EXEEXT@ $(OBJS) $(DEF) $(LIBS)

@QT@qturqstat@EXEEXT@: $(QTOBJS) $(DEF)
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) $(LDFLAGS) -o qturqstat@EXEEXT@ $(QTOBJS) $(DEF) $(QTLIBS)

# Object files
turqstat.o: turqstat.cpp statengine.h statview.h arearead.h squishread.h fdapxread.h jamread.h mypointread.h version.h tanstaaflread.h config.h mytime.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/turqstat.cpp

statengine.o: statengine.cpp statengine.h config.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/statengine.cpp

statview.o: statview.cpp statview.h statengine.h version.h config.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/statview.cpp

squishread.o: squishread.cpp squishread.h arearead.h statengine.h datatypes.h utility.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/squishread.cpp

utility.o: utility.cpp utility.h config.h mytime.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/utility.cpp

fdapxread.o: fdapxread.cpp fdapxread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/fdapxread.cpp

tanstaaflread.o: tanstaaflread.cpp tanstaaflread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/tanstaaflread.cpp

jamread.o: jamread.cpp jamread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/jamread.cpp

mypointread.o: mypointread.cpp mypointread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/mypointread.cpp

sdmread.o: sdmread.cpp sdmread.h arearead.h statengine.h datatypes.h utility.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/sdmread.cpp

newsspoolread.o: newsspoolread.cpp newsspoolread.h arearead.h utility.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/newsspoolread.cpp

mytime.o: mytime.cpp mytime.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/mytime.cpp

output.o: output.cpp output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/output.cpp

@QT@qtgui.o: qtgui.cpp qtgui.h qtlist.h statengine.h
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/qtgui.cpp

@QT@moc_qtgui.o: moc_qtgui.cpp
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c moc_qtgui.cpp

@QT@moc_qtgui.cpp: qtgui.h
@QT@	@QTMOC@ -o moc_qtgui.cpp qtgui.h

@QT@qtlist.o: qtlist.cpp qtlist.h statengine.h
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/qtlist.cpp

@QT@moc_qtlist.cpp: qtlist.h
@QT@	@QTMOC@ -o moc_qtlist.cpp qtlist.h

@QT@moc_qtlist.o: moc_qtlist.cpp
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c moc_qtlist.cpp

@QT@outputqt.o: outputqt.cpp output.h
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/outputqt.cpp

# List phony targets
.PHONY: all debian clean distclean debianclean install
