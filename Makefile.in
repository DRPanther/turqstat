# Makefile.in for Turquoise SuperStat
#
# $Id$

# Variables
CXXFLAGS=@CXXFLAGS@ -I. -Wall
@QT@QTFLAGS=-I@QTINCLUDE@
LDFLAGS=@LDFLAGS@
srcdir=@srcdir@
VPATH=@scrdir@
LIBS=@LIBS@
QTLIBS=@QTLIB@
DESTDIR=
OBJS=turqstat.o statengine.o statview.o squishread.o fdapxread.o jamread.o mypointread.o utility.o sdmread.o tanstaaflread.o newsspoolread.o mytime.o output.o mappings.o convert.o
QTOBJS=qtgui.o moc_qtgui.o qtlist.o moc_qtlist.o qtreport.o moc_qtreport.o qtbars.o moc_qtbars.o statengine.o statview.o squishread.o fdapxread.o jamread.o mypointread.o utility.o sdmread.o tanstaaflread.o newsspoolread.o mytime.o outputqt.o
@QT@EXE=turqstat@EXEEXT@ xturqstat@EXEEXT@
@NOQT@EXE=turqstat@EXEEXT@
DEF=@DEF@
prefix=@prefix@
exec_prefix=@exec_prefix@
xbindir=@exec_prefix@/X11R6/bin
xmandir=@exec_prefix@/X11R6/man

# Magic targets
all: $(EXE)
@QT@	make -C po all

debian:
	fakeroot debian/rules binary

@NOQT@clean:
@NOQT@	-rm $(OBJS)
@NOQT@	-rm $(EXE)

@QT@clean:
@QT@	-rm $(OBJS) $(QTOBJS) moc_* *.moc
@QT@	-rm $(EXE)
@QT@	-make -C po clean

distclean: clean
	-rm config.status config.log config.cache config.h Makefile
	-make -C po distclean

debianclean:
	fakeroot debian/rules clean

@NOINST@install: install-text @QT@install-qt
@NOINST@
@NOINST@install-text: turqstat@EXEEXT@
@NOINST@	install -d $(DESTDIR)@bindir@ $(DESTDIR)@datadir@/doc/turqstat/ $(DESTDIR)@datadir@/doc/turqstat/sv/ $(DESTDIR)@mandir@/man1 $(DESTDIR)@mandir@/sv/man1/
@NOINST@	install -s turqstat@EXEEXT@ $(DESTDIR)@bindir@
@NOINST@	install -m 644 turqstat.doc $(DESTDIR)@datadir@/doc/turqstat/
@NOINST@	install -m 644 turqstat.dok $(DESTDIR)@datadir@/doc/turqstat/sv/
@NOINST@	install -m 644 turqstat.1   $(DESTDIR)@mandir@/man1/
@NOINST@	install -m 644 turqstat-sv.1 $(DESTDIR)@mandir@/sv/man1/turqstat.1
@NOINST@
@NOINST@@QT@install-qt: xturqstat@EXEEXT@
@NOINST@@QT@	install -d $(DESTDIR)$(xbindir) $(DESTDIR)@datadir@/doc/xturqstat/ $(DESTDIR)@datadir@/doc/xturqstat/sv/ $(DESTDIR)$(xmandir)/man1/ $(DESTDIR)$(xmandir)/sv/man1/
@NOINST@@QT@	install -s xturqstat@EXEEXT@ $(DESTDIR)$(xbindir)
@NOINST@@QT@	install -m 644 turqstat.doc $(DESTDIR)@datadir@/doc/xturqstat/
@NOINST@@QT@	install -m 644 turqstat.dok $(DESTDIR)@datadir@/doc/xturqstat/sv/
@NOINST@@QT@	install -m 644 xturqstat.1  $(DESTDIR)$(xmandir)/man1/
@NOINST@@QT@	install -m 644 xturqstat-sv.1 $(DESTDIR)$(xmandir)/sv/man1/xturqstat.1
@NOINST@@QT@	make -C po install

docs: doxygen.conf
	doxygen doxygen.conf

# Binary
turqstat@EXEEXT@: $(OBJS) $(SUBOBJS) $(DEF)
	@CXX@ $(CXXFLAGS) $(LDFLAGS) -o turqstat@EXEEXT@ $(OBJS) $(SUBOBJS) $(DEF) $(LIBS)

@QT@xturqstat@EXEEXT@: $(QTOBJS) $(SUBOBJS) $(DEF)
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) $(LDFLAGS) -o xturqstat@EXEEXT@ $(QTOBJS) $(SUBOBJS) $(DEF) $(LIBS) $(QTLIBS)

# Object files
turqstat.o: turqstat.cpp statengine.h statview.h arearead.h squishread.h fdapxread.h jamread.h mypointread.h version.h tanstaaflread.h config.h mytime.h output.h utility.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/turqstat.cpp

statengine.o: statengine.cpp statengine.h config.h output.h utility.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/statengine.cpp

statview.o: statview.cpp statview.h statengine.h version.h config.h utility.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/statview.cpp

squishread.o: squishread.cpp squishread.h arearead.h statengine.h datatypes.h utility.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/squishread.cpp

utility.o: utility.cpp utility.h config.h mytime.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/utility.cpp

fdapxread.o: fdapxread.cpp fdapxread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/fdapxread.cpp

tanstaaflread.o: tanstaaflread.cpp tanstaaflread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/tanstaaflread.cpp

jamread.o: jamread.cpp jamread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/jamread.cpp

mypointread.o: mypointread.cpp mypointread.h datatypes.h statengine.h arearead.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/mypointread.cpp

sdmread.o: sdmread.cpp sdmread.h arearead.h statengine.h datatypes.h utility.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/sdmread.cpp

newsspoolread.o: newsspoolread.cpp newsspoolread.h arearead.h utility.h config.h output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/newsspoolread.cpp

mytime.o: mytime.cpp mytime.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/mytime.cpp

output.o: output.cpp output.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/output.cpp

mappings.o: mappings.cpp mappings.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/mappings.cpp

convert.o: convert.cpp convert.h mappings.h utility.h
	@CXX@ $(CXXFLAGS) -c $(srcdir)/convert.cpp

@QT@qtgui.o: qtgui.cpp qtgui.h qtlist.h qtreport.h statengine.h arearead.h squishread.h fdapxread.h jamread.h mypointread.h sdmread.h tanstaaflread.h newsspoolread.h utility.h qtbars.h mytime.h
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/qtgui.cpp

@QT@moc_qtgui.o: moc_qtgui.cpp
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c moc_qtgui.cpp

@QT@moc_qtgui.cpp: qtgui.h
@QT@	@QTMOC@ -o moc_qtgui.cpp qtgui.h

@QT@qtlist.o: qtlist.cpp qtlist.h statengine.h
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/qtlist.cpp

@QT@moc_qtlist.cpp: qtlist.h
@QT@	@QTMOC@ -o moc_qtlist.cpp qtlist.h

@QT@moc_qtlist.o: moc_qtlist.cpp
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c moc_qtlist.cpp

@QT@qtreport.o: qtreport.cpp qtreport.h statview.h
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/qtreport.cpp

@QT@moc_qtreport.cpp: qtreport.h
@QT@	@QTMOC@ -o moc_qtreport.cpp qtreport.h

@QT@moc_qtreport.o: moc_qtreport.cpp
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c moc_qtreport.cpp

@QT@qtbars.o: qtbars.cpp qtbars.h statengine.h qtbars.moc
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/qtbars.cpp

@QT@moc_qtbars.cpp: qtbars.h
@QT@	@QTMOC@ -o moc_qtbars.cpp qtbars.h

@QT@moc_qtbars.o: moc_qtbars.cpp
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c moc_qtbars.cpp

@QT@qtbars.moc: qtbars.cpp
@QT@	@QTMOC@ -o qtbars.moc qtbars.cpp

@QT@outputqt.o: outputqt.cpp output.h
@QT@	@CXX@ $(CXXFLAGS) $(QTFLAGS) -c $(srcdir)/outputqt.cpp

# Other files
doxygen.conf: doxygen.conf.in config.status
	$(srcdir)/config.status

# List phony targets
.PHONY: all debian clean distclean debianclean install install-text \
        install-qt docs
